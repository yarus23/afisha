Ext.define("Afisha.store.Favorites",{extend:"Ext.data.Store",config:{model:"Afisha.model.Favorites",autoLoad:true,},isRecordInFav:function(b,a){return this.findBy(function(d,c){if(d.get("type")==b&&d.get("rid")==a){return true}return false})},setFav:function(c){var a=this.isRecordInFav(c.type,c.rid);if(a==-1){var b=this.getModel();var d=new b(c);this.add(d);this.sync();return true}else{this.removeAt(a);this.sync();return false}}});